/* --- Variables de Diseño --- */
:root {
    /* MODO CLARO (DEFAULT) */
    --bg-main: #f0f4f7;
    --bg-card: #ffffff;
    --text-primary: #212529;
    --text-secondary: #6c757d;
    --border-subtle: #dee2e6;
    --accent-primary: #007bff; /* Azul */
    --accent-secondary: #e65100; /* Naranja para LDM */
    --truck-floor: #e9ecef;
}

/* --- MODO OSCURO (Activado por la clase body.dark-mode) --- */
body.dark-mode {
    --bg-main: #1e1e1e; 
    --bg-card: #252526; 
    --text-primary: #f0f0f0; 
    --text-secondary: #b0b0b0;
    --border-subtle: #3c3c3c; 
    --accent-primary: #66aaff; /* Azul claro */
    --accent-secondary: #ff8f00; /* Naranja */
    --truck-floor: #333;
}


/* --- Estilos Generales y Header --- */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--bg-main); 
    color: var(--text-primary);
    margin: 0;
    padding: 0;
}

.header {
    background-color: var(--bg-card); 
    color: var(--text-primary);
    padding: 15px 30px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.header h1 { color: var(--accent-primary); font-weight: 300; margin: 0; font-size: 1.8em; }

/* Botón de Toggle de Tema */
#theme-toggle {
    padding: 8px 15px;
    background-color: var(--accent-primary);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
}
#theme-toggle:hover {
    background-color: #0056b3;
}

/* --- Layout Principal (Flexbox) --- */
.app-container {
    display: flex;
    max-width: 1600px; 
    margin: 20px auto;
    padding: 0 20px;
    gap: 30px;
    align-items: flex-start;
}

.main-column { flex: 3; display: flex; flex-direction: column; gap: 20px; }
.sidebar-column { 
    flex: 1; min-width: 280px; background-color: var(--bg-card); 
    padding: 20px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    border-top: 5px solid var(--accent-secondary); position: sticky; top: 20px;
}

/* --- Formulario --- */
.form-container {
    background-color: var(--bg-card);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    border-left: 5px solid var(--accent-primary);
    /* ... [Resto de estilos de formulario, usando variables] ... */
}
input[type="number"] {
    background-color: var(--bg-main);
    color: var(--text-primary);
    border: 1px solid var(--border-subtle);
}

/* --- Área del Camión y Palets --- */
.professional-truck-area {
    background-color: var(--bg-card);
    /* ... [Estilos de camión, usando variables] ... */
}
.truck-label-bar {
    background-color: var(--text-primary); 
    color: white; 
}
.tractor-front { background-color: var(--text-primary); } /* Silueta negra/oscura */
.truck { 
    background-color: var(--truck-floor); 
    border: 3px solid var(--border-subtle);
}
.pallet { border: 2px solid var(--text-primary); }

/* --- Resumen y Métricas --- */
.metric-card { background-color: var(--bg-main); border: 1px solid var(--border-subtle); }
.metric-value { color: var(--accent-secondary); }
.metric-label { color: var(--text-secondary); }
#total-ldm-value { color: var(--accent-secondary); }
.group-item { border-bottom: 1px dashed var(--border-subtle); }

/* --- APLICACIÓN DE ESTILOS DARK MODE --- */
body.dark-mode .header { background-color: #2b2b2b; }
body.dark-mode .form-container { box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); }
body.dark-mode .metric-card { background-color: #212529; }
body.dark-mode .truck-label-bar { background-color: #000; color: #00c4e7; }
body.dark-mode .pallet { color: var(--bg-dark); }
